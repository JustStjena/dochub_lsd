# Пример модификации метамодели для описания связей в новом формате

**Цель примера:** 
1. Предоставить пример модификации метамодели
2. Предоставить новый способ описания связей между сущностями

# Суть примера
В примере реализован новый вид описания связей между сущностями. Задействованы механизмы изменения метамодели, кастомных сущностей(entity) и датасетов.

# Формат
Связь в данном примере описывается в следующем формате:
```yaml
links:
  front.app-orders.backend:
    from: front.app
    to: orders.backend
    via:
      - orders.gateway
    title: Передача заказа
    contract: dh.contract.id

  front.web-orders.backend:
    from: front.web
    to: orders.backend
    via:
      - orders.gateway
    title: Передача заказа
```
Обязательными являются только параметры from/to. Новый параметр via позволяет отметить шлюз, через который работает связь между компонентами не создавая при этом двух отдельных сущностей.

# Особенности
1. Связь между компонентами - это отдельный объект, который можно расширить.
2. Несколько связей между компонентами на схемах группируется в одну. При клике по такой связи мы попадаем на страницу со списком.
3. В SELF контексте компонента будут отображены все связи, которые у него существуют. Неважно при этом где они описаны. Также будут показаны связи, которые проходят через шлюзы. 
4. Все связи всплывают наверх, если вы используете модель DDD, при всплытии также происходит группировка.
5. Работает ТОЛЬКО с plantUML представлением.

# Подключение:
1. Заменить файлы, находящиеся в папке metamodel/dochub/entities/contexts на файлы в соотвествующей папке из примера.
2. Использовать converter.json, которые сделает первичную конвертацию из формата старых ссылок в новый формат.
3. Добавить полученные данные в свойство "links:"
4. Старые связи можно не удалять. 

